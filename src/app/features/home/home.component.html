<section class="w-full flex flex-col items-center">
  <span class="text-2xl flex font-bold my-8">Quiz Maker</span>
  <div class="flex items-center gap-x-8">
    <select
      #categorySelect
      class="select w-40 h-10 px-4 border border-color-gray-400 rounded"
      aria-label="Select a category"
      name="category"
      [(ngModel)]="selectedCategory"
      (ngModelChange)="logChange(selectedCategory)"
    >
      <option disabled selected value="0">Select a category</option>
      <option *ngFor="let category of triviaCategories" [value]="category.id">
        {{ category.name }}
      </option>
    </select>
    <select
      mat-select
      #difficultySelect
      class="
        select
        w-40
        h-10
        px-4
        border border-color-gray-400
        rounded
        capitalize
      "
      name="difficulty"
      aria-label="Select Difficulty"
      [(ngModel)]="selectedDifficulty"
      (ngModelChange)="logChange(selectedDifficulty)"
    >
      <option disabled selected value="">Select difficulty</option>
      <option
        class="capitalize"
        *ngFor="let difficulty of difficultyLevels"
        [value]="difficulty"
      >
        {{ difficulty }}
      </option>
    </select>
    <ng-container *ngIf="selectedCategory && selectedDifficulty">
      <button
        #createBtn
        class="
          button
          px-4
          h-10
          bg-blue-100
          rounded
          transition transition-colors
          hover:bg-blue-400
        "
        type="button"
        (click)="createTriviaQuestions()"
      >
        Create
      </button>
    </ng-container>
  </div>
</section>
<section
  class="h-full w-full m-4 flex items-center"
  *ngIf="triviaQuestions?.length"
>
  <div class="flex flex-col w-4/5 min-w-600">
    <div
      class="text-2xl"
      *ngIf="this.numberCorrect !== null && this.numberCorrect !== undefined"
    >
      Results
    </div>
    <app-quiz
      [categoryId]="selectedCategory"
      [difficulty]="selectedDifficulty"
      [questions]="triviaQuestions"
      (quizEvaluated)="quizEvaluatedEvent($event)"
    ></app-quiz>
    <div
      class="w-full h-10 text-center flex flex-col"
      *ngIf="this.numberCorrect !== null && this.numberCorrect !== undefined"
    >
      <span
        [ngClass]="{
          'bg-red-500': numberCorrect <= 1,
          'bg-yellow-400': numberCorrect > 1 && numberCorrect < 3,
          'bg-green-500 text-white': numberCorrect > 2
        }"
      >
        You scored {{ this.numberCorrect }} out of 5</span
      >
      <button type="button" class="w-full" (click)="createTriviaQuestions()">
        create a new Quiz
      </button>
    </div>
  </div>
</section>
